## What do you need to do?
##### I need to edit the php pools associated with the php-fpm group container

* Edit template: https://labs.noflag.org.uk/Noflag/web-two-point-oh/src/master/ansible/roles/group-php-fpm/templates/php-pool.j2
* View/edit pools: `/var/lib/docker/volumes/group-fpm-pools/_data`

##### I need to edit the php pools associated with an on-demand container

* Edit template: https://labs.noflag.org.uk/Noflag/web-two-point-oh/src/master/docker/apps/wordpress/www.conf
* View/edit pools: 

    docker start $domain.fpm
    docker exec -it $domain.fpm ash
    cd /usr/local/etc/php-fpm.d

##### I need to add/edit Wordpress wp-config.php

Check the settings in /var/$domain/.env and restart the container. If you still need to do that, you can create a file named wp-config-inc.php in /var/$domain; it will be automatically included inside the wp-config file when either the ansible create script is re-run, or immediately for php-group containers.

#### I need to add/edit special vhost directives for this domain

Of course you can prototype your changes in /var/lib/docker/volumes/docker_sites_enabled/_data, but to make the changes permanent you should create a new file named $domain.conf in /var/lib/docker/volumes/docker_vhost_inc/_data. That file will be automatically included by ansible next time the create script is run, or by dockergen if you're dealing with a fully-containerized (non-Wordpress) app.

For on-demand containers, after you edit the env file, you need to restart the container. The best way is to do this using ansible to re-run the create-wordpress script.

Group-fpm containers do not use the .env file. Instead, each php pool injects its own WP config straight into the wp-config file. So you should see "I need to edit the php pools associated with the php-fpm group container" above instead.

## See Also

Please read Where-to-find.md and see the Troubleshooting Flowchart.png.