Problem: nginx 500 -- sockets not created

Sympton: nginx returns error 500 when php is activated, and no wake socket is created by systemd in /var/run/docker-apps on host

Fix: systemd needs to enable the waker service (which symlinks the socket service description into wants-socket.target) and start the waker (which creates the socket):

	systemctl enable vhost.fpm-waker.socket
	systemctl start vhost.fpm-waker.socket

If that has already been done, systemctl may be out of sync with the docker daemon. See below:

Problem: nginx 500, waker socket not created and systemd refuses to create it:

	Nov 24 11:26:05 jessie systemd[1]: Starting vhost.fpm-waker.socket.
	Nov 24 11:26:05 jessie systemd[1]: Socket service vhost.fpm-waker.service already active, refusing.
	Nov 24 11:26:05 jessie systemd[1]: Failed to listen on vhost.fpm-waker.socket.

Fix: I use the following fish function to renew the waker:

function renewfpm
              systemctl stop    fpm@$argv.service
              systemctl disable fpm@$argv.service
              systemctl stop    fpm-waker@$argv.service
              systemctl disable fpm-waker@$argv.service
              systemctl stop    fpm-waker@$argv.socket
              systemctl disable fpm-waker@$argv.socket
              rm -f /var/run/docker-apps/$argv/*
              systemctl enable  fpm-waker@$argv.socket
              systemctl start   fpm-waker@$argv.socket
          end

	** STATUS: Unknown what causes this issue.

Problem: containers may take some time to activate and the socket may not be ready for them

Fix: ensure sockets are handed to waitport.sh which wraps netcat to wait for the container to be ready.

	** Status: NOT TESTED